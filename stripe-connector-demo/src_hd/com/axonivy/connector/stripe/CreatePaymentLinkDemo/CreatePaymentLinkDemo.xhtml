<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html"
 xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
 xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
 xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
 <ui:composition template="/layouts/frame-10-full-width.xhtml">
  <ui:param name="managedBean" value="#{paymentLinkBean}" />
  <ui:define name="title">#{ivy.cms.co("/Dialogs/com/axonivy/connector/stripe/demo/PaymendLinkDemo/paymentLinkTitle")}</ui:define>
  <ui:define name="content">

   <!-- Original Payment Link Creation Demo -->
   <fieldset>
    <legend>Create Payment Link (URL Response)</legend>
    <h:form id="originalForm">
     <p:panelGrid columns="3" layout="grid"
      styleClass="ui-panelgrid-blank ui-fluid"
      columnClasses="ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4, ui-g-12 ui-md-3 ui-lg-6">

      <p:outputLabel for="price" value="PriceID" />
      <p:inputText id="price" value="#{managedBean.priceId}"
       disabled="#{managedBean.disableForm}">
       <f:validator validatorId="priceIdValidator" />
      </p:inputText>
      <p:message for="price" />

      <p:outputLabel for="quantity" value="Quantity" />
      <p:inputNumber id="quantity" value="#{managedBean.quantity}"
       disabled="#{managedBean.disableForm}">
       <f:validator validatorId="quantityValidator" />
      </p:inputNumber>
      <p:message for="quantity" />

      <p:outputLabel for="result" value="Result" />
      <p:inputTextarea id="result" rows="6" cols="33"
       value="#{managedBean.result}" readonly="true" />

     </p:panelGrid>
     <br />
     <div class="command-btns">
      <p:commandButton id="createPaymentLinkOriginal"
       disabled="#{managedBean.disableForm}"
       actionListener="#{managedBean.onSendRequest()}" value="Create Payment Link"
       update="@form :createForm :retrieveForm :lineItemsForm :setActiveForm" icon="pi pi-check" />
     </div>
    </h:form>
   </fieldset>
    
    <br/>
    
    <!-- Create Payment Link Demo -->
    <fieldset>
     <legend>Create Payment Link (Object Response)</legend>
     <h:form id="createForm">
      <p:panelGrid columns="3" layout="grid"
       styleClass="ui-panelgrid-blank ui-fluid"
       columnClasses="ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4, ui-g-12 ui-md-3 ui-lg-6">

       <p:outputLabel for="createPriceId" value="PriceID" />
       <p:inputText id="createPriceId" value="#{managedBean.priceId}">
        <f:validator validatorId="priceIdValidator" />
       </p:inputText>
       <p:message for="createPriceId" />

       <p:outputLabel for="createQuantity" value="Quantity" />
       <p:inputNumber id="createQuantity" value="#{managedBean.quantity}">
        <f:validator validatorId="quantityValidator" />
       </p:inputNumber>
       <p:message for="createQuantity" />

       <p:outputLabel for="createResult" value="Result" />
       <p:inputTextarea id="createResult" rows="6" cols="33"
        value="#{managedBean.createResult}" readonly="true" />

      </p:panelGrid>
      <div class="command-btns">
       <p:commandButton id="createPaymentLinkBtn" 
        actionListener="#{managedBean.onCreatePaymentLink()}" value="Create Payment Link"
        update="@form :originalForm :retrieveForm :lineItemsForm :setActiveForm" icon="pi pi-plus" />
      </div>
     </h:form>
    </fieldset>
    
    <br/>
    
    <!-- Retrieve Payment Link Demo -->
    <fieldset>
     <legend>Retrieve Payment Link</legend>
     <h:form id="retrieveForm">
      <p:panelGrid columns="3" layout="grid"
       styleClass="ui-panelgrid-blank ui-fluid"
       columnClasses="ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4, ui-g-12 ui-md-3 ui-lg-6">

       <p:outputLabel for="retrievePaymentLinkId" value="Payment Link ID" />
       <p:inputText id="retrievePaymentLinkId" value="#{managedBean.paymentLinkId}" />
       <p:message for="retrievePaymentLinkId" />

       <p:outputLabel for="retrieveResult" value="Result" />
       <p:inputTextarea id="retrieveResult" rows="6" cols="33"
        value="#{managedBean.retrieveResult}" readonly="true" />

      </p:panelGrid>
      <div class="command-btns">
       <p:commandButton id="retrievePaymentLinkBtn" 
        actionListener="#{managedBean.onRetrievePaymentLink()}" value="Retrieve Payment Link"
        update="@form :originalForm :createForm :lineItemsForm :setActiveForm" icon="pi pi-search" />
      </div>
     </h:form>
    </fieldset>
    
    <br/>
    
    <!-- Retrieve Payment Link Line Items Demo -->
    <fieldset>
     <legend>Retrieve Payment Link Line Items</legend>
     <h:form id="lineItemsForm">
      <p:panelGrid columns="3" layout="grid"
       styleClass="ui-panelgrid-blank ui-fluid"
       columnClasses="ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4, ui-g-12 ui-md-3 ui-lg-6">

       <p:outputLabel for="lineItemsPaymentLinkId" value="Payment Link ID" />
       <p:inputText id="lineItemsPaymentLinkId" value="#{managedBean.paymentLinkId}" />
       <p:message for="lineItemsPaymentLinkId" />

       <p:outputLabel for="lineItemsResult" value="Result" />
       <p:inputTextarea id="lineItemsResult" rows="6" cols="33"
        value="#{managedBean.retrieveLineItemsResult}" readonly="true" />

      </p:panelGrid>
      <div class="command-btns">
       <p:commandButton id="retrieveLineItemsBtn" 
        actionListener="#{managedBean.onRetrievePaymentLinkLineItems()}" value="Retrieve Line Items"
        update="@form :originalForm :createForm :retrieveForm :setActiveForm" icon="pi pi-list" />
      </div>
     </h:form>
    </fieldset>
    
    <br/>
    
    <!-- Set Payment Link Active Demo -->
    <fieldset>
     <legend>Set Payment Link Active Status</legend>
     <h:form id="setActiveForm">
      <p:panelGrid columns="3" layout="grid"
       styleClass="ui-panelgrid-blank ui-fluid"
       columnClasses="ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4, ui-g-12 ui-md-3 ui-lg-6">

       <p:outputLabel for="activePaymentLinkId" value="Payment Link ID" />
       <p:inputText id="activePaymentLinkId" value="#{managedBean.paymentLinkId}" />
       <p:message for="activePaymentLinkId" />

       <p:outputLabel for="activeStatus" value="Active" />
       <p:selectBooleanCheckbox id="activeStatus" value="#{managedBean.active}" />
       <p:message for="activeStatus" />

       <p:outputLabel for="activeResult" value="Result" />
       <p:inputTextarea id="activeResult" rows="6" cols="33"
        value="#{managedBean.setActiveResult}" readonly="true" />

      </p:panelGrid>
      <div class="command-btns">
       <p:commandButton id="setActiveBtn" 
        actionListener="#{managedBean.onSetPaymentLinkActive()}" value="Set Active Status"
        update="@form :originalForm :createForm :retrieveForm :lineItemsForm" icon="pi pi-cog" />
      </div>
     </h:form>
    </fieldset>
    
    <br/>
    
    <div class="command-btns">
     <p:commandLink id="cancel" actionListener="#{logic.close}" value="Cancel"
      immediate="true" />
    </div>
  </ui:define>
 </ui:composition>
</h:body>

</html>
